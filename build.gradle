plugins {
    id 'io.franzbecker.gradle-lombok' version '1.12'
    id 'net.ltgt.apt' version '0.10'
}

version '1.0-SNAPSHOT'

apply plugin: 'java'
apply plugin: 'idea'

sourceCompatibility = 1.8

def qsmlDep = 'uk.co.drnaylor:quickstart-moduleloader:0.8.2'

ext.configFile = file "build.properties"

configFile.withReader {
    def prop = new Properties()
    prop.load(it)
    project.ext.config = new ConfigSlurper().parse prop
}

repositories {
    mavenCentral()
    jcenter()
    maven {
        name 'drnaylor'
        url 'http://repo.drnaylor.co.uk/artifactory/list/quickstart'
    }
    ivy {
        name 'Minecolonies TeamCity Repo'
        ivyPattern 'http://teamcity.minecolonies.com/guestAuth/repository/download/[module]/[revision]/teamcity-ivy.xml'
        artifactPattern 'http://teamcity.minecolonies.com/guestAuth/repository/download/[module]/[revision]/[artifact](.[ext])'
    }
}

dependencies {
    compile('org.jetbrains:annotations:15.0')

    testCompile(group: 'junit', name: 'junit', version: '4.12')
    compile('net.dv8tion:JDA:3.6.0_354')
    compile('org.slf4j:slf4j-api:1.7.25')
    compile('org.slf4j:slf4j-jdk14:1.7.25')
    compileOnly('org.projectlombok:lombok:1.16.18')
    apt('org.projectlombok:lombok:1.16.18')
    compile('ninja.leaping.configurate:configurate-hocon:3.3')
    compile('org.eclipse.mylyn.github:org.eclipse.egit.github.core:2.1.5')

    compile 'org.java-websocket:Java-WebSocket:1.3.4'

    compile('com.google.inject:guice:4.0')
    compile(qsmlDep)
    compile('io.github.lukehutch:fast-classpath-scanner')

    compile('com.jagrosh:jda-utilities-command:2.1')

    compile ('org:DiscordianConnect_Release:' + config.discordian_connect_version) {
        artifact {
            name = 'discordianconnect-0.0.1.' + config.discordian_connect_version + '-sources'
            type = 'jar'
        }
        artifact {
            name = 'discordianconnect-0.0.1.' + config.discordian_connect_version + '-all'
            type = 'jar'
        }
    }
}